[ 채팅 테스트 #1 ]
패킷과 세션, 네트워크가 준비되었으니 컨텐츠를 제작할 대략적인 준비는 끝났다. 그런데 이걸 어떻게 다뤄야될지가 막막할거다.
한번 채팅서버를 구현해보며 응용법과 문제점을 알아보자. (채팅 = 같은방안에 있는 모두에게 가변데이터를 뿌림 => 게임과 동일)

[ 채팅 테스트 #2 ]
지금 더미클라의 용도는 수많은 더미클라를 만들어보는것이니, 여기도 세션매니저를 일단 만들어보자.(실제 런칭상황에서는 필요없을것임)

서버는 한유저가 보낸 패킷채트를, 해당 게임룸의 유저수만큼 복사해서 뿌려야하기에, 내가 한마디해도 듣는사람이 수십만명이면 서버는 수십만마디를 해야된다는 뜻
(그래서 유저가 많은곳에서는 서버렉이 생기는것) 그렇기에 브로드캐스팅(서버가 유저에게 채팅전달)에는 규칙을 정해야함. 브로드캐스팅의 범위를 정한다는 식으로.

만약 지금 구현한것처럼 브로드캐스팅에서 한세션의 말을, 모든 세션들에게 보내는, 한동작마다 락을 잡아주면,
수백의 세션이 말을한다고 할때 쓰레드가 여기 몰려서 계속 패킷이 밀리게 되고, 패킷이 밀리니 새로운 쓰레드를 생성해서 더욱 몰리게 되는 악순환이 생긴다.
=> 이걸 해결하는 방법이, GameRoom은 하나만 만들고, 여기서 lock없이 혼자 처리하게 하는것이다.
그러면 전달받은 패킷들은 처리할때까지 기다리느냐? 아니다. 혼자일하는애한테, 끝나고 이거하라고 큐에다가 업무를 남겨놓고 가면된다. (=> 이게 바로 Job Queue인듯?)